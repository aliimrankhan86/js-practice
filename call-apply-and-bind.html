<!DOCTYPE html>
<html>
    <head>
        <title>Call, Apply and Bind</title>
     </head>   
    <body>
       <h1>Call, Apply and Bind</h1>
       <h2 id ="bind"></h2>
       <h3 id="family"></h3>

        <script type="text/javascript">

            /* Bind */
            
            var person = {
                firstName : 'John',
                lastName : 'Doe',
                fullName : function() {
                    // Remember 'this' inside a method always points to the parent object
                    var combineName = this.firstName + ' ' + this.lastName;
                    return combineName;
                }
            }

            function loginInfo (lang1, lang2) {
                console.log(this);
                document.getElementById('bind').innerHTML = 'Bind sample ' + 'Logged in ' + this.fullName();
            }

            loginInfo.bind(person)(); // One way of invoking 
            /* var newLoginInfo = loginInfo.bind(person); 
            newLoginInfo(); // Other way of invoking */
            
            /* 
               Bind creates a copy of the function, whereever it is being used
               i.e. it will create a copy of the function loginInfo and then
               bind the object person to it. Essentially, which will make 
               'this' points to person instead of window.
            */

            /* 
                Bind doesn't execute the function but it creates a copy and link the object to it 
            */

            /* Bind ends */


            /* Call */
            
            /* 
                Call just execute the function, however the first argument is the object
                you want it to link then followed by the parameter values.
            */

            var family = {
                father : 'Ali',
                mother : 'Nazish',
                kid1 : 'Anaya',
                kid2 : 'Aizah',
                completeFamily : function(lname) {
                    lname = lname.toUpperCase();
                    var allFamily = this.father + ' ' + lname + ' ' 
                    + this.mother + ' ' + lname + ' '
                    + this.kid1 + ' ' + lname + ' ' 
                    + this.kid2 + ' ' + lname;
                    return allFamily;
                }
            }

            function familyMembers (surname) {
                document.getElementById('family').innerHTML = this.completeFamily('khan');
            }

            familyMembers.call(family, 'a', 'b');

            /* 
            Call - invoked the family object and followed by any arguments,
            if you want to use them 
            */


        </script>

    </body>
</html>